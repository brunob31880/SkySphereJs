(this.webpackJsonpskyspherejs=this.webpackJsonpskyspherejs||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),a=n(37),i=n.n(a),c=(n(49),n(10)),s=(n(50),n(23)),l=n(5),u=n(8);var d=function(){var e=Object(r.useRef)();return Object(r.useEffect)((function(){var t=new l.LineDashedMaterial({color:65280,dashSize:10,gapSize:5}),n=new l.LineDashedMaterial({color:255,dashSize:10,gapSize:5}),r=function(e){for(var t=new l.BufferGeometry,n=new Float32Array(195),r=0;r<=64;r++){var o=r/64*Math.PI*2;n[3*r]=e*Math.cos(o),n[3*r+1]=0,n[3*r+2]=e*Math.sin(o)}return t.setAttribute("position",new l.BufferAttribute(n,3)),t};(new l.FontLoader).load("https://threejs.org/examples/fonts/helvetiker_regular.typeface.json",(function(o){for(var a=0;a<360;a+=10){var i=r(1e3);i.rotateZ(l.MathUtils.degToRad(90)),i.rotateY(l.MathUtils.degToRad(a));var c=new l.Line(i,t);c.computeLineDistances(),c.layers.set(1),e.current.add(c);var s=new l.TextGeometry(String(a),{font:o,size:40,height:5,curveSegments:12,bevelEnabled:!1}),u=new l.MeshBasicMaterial({color:16777215}),d=new l.Mesh(s,u);d.position.x=1e3*Math.cos(l.MathUtils.degToRad(a)),d.position.z=1e3*Math.sin(l.MathUtils.degToRad(a)),d.position.y=0,d.lookAt(0,0,0),e.current.add(d)}for(var f=-90;f<90;f+=10){var h=r(1e3*Math.cos(l.MathUtils.degToRad(f))),b=new l.Line(h,n);b.translateY(1e3*Math.sin(l.MathUtils.degToRad(f))),b.computeLineDistances(),b.layers.set(1),e.current.add(b);var v=new l.TextGeometry(String(f),{font:o,size:40,height:5,curveSegments:12,bevelEnabled:!1}),m=new l.MeshBasicMaterial({color:16777215}),p=new l.Mesh(v,m);p.position.x=1e3*Math.cos(l.MathUtils.degToRad(f)),p.position.y=1e3*Math.sin(l.MathUtils.degToRad(f)),p.position.z=0,p.lookAt(0,0,0),e.current.add(p)}}))}),[]),Object(u.jsx)("group",{ref:e})};var f=function(){var e=Object(r.useRef)();return Object(r.useEffect)((function(){e.current&&(e.current.renderOrder=1)}),[]),Object(u.jsxs)("mesh",{ref:e,rotation:[-Math.PI/2,0,0],children:[Object(u.jsx)("ringBufferGeometry",{attach:"geometry",args:[0,1e3,64]}),Object(u.jsx)("meshBasicMaterial",{attach:"material",color:16777215,side:l.DoubleSide,transparent:!0,opacity:.1,depthWrite:!1})]})},h=n(12),b=n(61),v=n(11),m=n(13),p=n(9),j=function(e){return e*(Math.PI/180)},g=function(e,t,n){return j(function(e,t,n){return 15*(e+t/60+n/3600)}(e,t,n))},O=function(e,t,n){return j(function(e,t,n){return e+t/60+n/3600}(e,t,n))};function x(e){return e*(180/Math.PI)}var w=n(22);var M=function(e,t,n){var r=Object(w.a)(e),o=Object(w.a)(t),a=Object(w.a)(n),i=Math.asin(Math.sin(a)*Math.sin(r)+Math.cos(a)*Math.cos(r)*Math.cos(o));return{azimuth:Math.atan2(-Math.cos(r)*Math.cos(a)*Math.sin(o),Math.sin(r)-Math.sin(a)*Math.sin(i)),altitude:i}},y=o.a.createContext();function S(e){var t,n=e.children,o=Object(r.useState)("Equatorial"),a=Object(c.a)(o,2),i=a[0],s=a[1],l=Object(r.useState)("Oui"),d=Object(c.a)(l,2),f=d[0],h=d[1],b=Object(r.useState)(new Date),j=Object(c.a)(b,2),w=j[0],S=j[1],E=Object(r.useState)({latitude:null,longitude:null}),C=Object(c.a)(E,2),z=C[0],A=C[1],L=Object(r.useState)(null),R=Object(c.a)(L,2),k=R[0],F=R[1],D=Object(r.useState)(null),N=Object(c.a)(D,2),T=N[0],I=N[1],V=Object(r.useState)({}),P=Object(c.a)(V,2),B=P[0],H=(P[1],Object(r.useState)(6)),U=Object(c.a)(H,2),W=U[0],G=U[1],q=Object(r.useState)([]),Y=Object(c.a)(q,2),_=Y[0],J=Y[1],X=Object(r.useState)(!1),Q=Object(c.a)(X,2),Z=Q[0],K=Q[1],$=1e3;Object(r.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){A({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(function(e){console.error("Erreur de g\xe9olocalisation:",e)})):console.error("G\xe9olocalisation non support\xe9e par ce navigateur.")}),[]),Object(r.useEffect)((function(){var e=setInterval((function(){S(new Date)}),1e3);return function(){return clearInterval(e)}}),[]);return Object(r.useEffect)((function(){if(k&&z.latitude&&z.longitude){console.log("Calcul des coordonn\xe9es horizontales"),console.time("Calcul des coordonn\xe9es horizontales");var e=1/0,t=-1/0,n=1/0,r=-1/0,o=[],a=[];k.raDec.forEach((function(i){var c=i.ra,s=i.dec,l=function(e){for(var t=280.16+(new Date-new Date(Date.UTC(2e3,0,1,12)))/864e5*360.9856235,n=(t%=360)+e;n<0;)n+=360;for(;n>360;)n-=360;return n}(z.longitude),u=x(c),d=x(s),f=function(e,t){for(var n=e-t;n>=360;)n-=360;for(;n<0;)n+=360;return n}(l,u),h=M(d,f,z.latitude),b=h.azimuth,v=h.altitude;b<e&&(e=b),b>t&&(t=b),v<n&&(n=v),v>r&&(r=v),o.push({azimuth:b,altitude:v});var m=$*Math.cos(v)*Math.cos(b),p=$*Math.cos(v)*Math.sin(b),j=$*Math.sin(v);a.push(m,j,p)})),console.log("Azimuth Range:",e,"-",t),console.log("Altitude Range:",n,"-",r),console.timeEnd("Calcul des coordonn\xe9es horizontales"),I(a),F(Object(p.a)(Object(p.a)({},k),{},{horizontalCoords:a,altAzArray:o}))}}),[Z,z]),Object(r.useEffect)((function(){Promise.all([fetch("".concat("/SkySphereJs","/datas/hip.tsv")).then((function(e){return e.text()})),fetch("".concat("/SkySphereJs","/datas/constellation_line_hip.csv")).then((function(e){return e.text()})),fetch("".concat("/SkySphereJs","/datas/ident4.csv")).then((function(e){return e.text()})),fetch("".concat("/SkySphereJs","/datas/constellation_abbr\xe9viations.csv")).then((function(e){return e.text()}))]).then((function(e){var t=Object(c.a)(e,4),n=t[0],r=t[1],o=t[2],a=t[3],i=1/0,s=-1/0,l=1/0,u=-1/0,d=n.split("\n").filter((function(e){return!e.startsWith("#")&&""!==e.trim()})),f=[],h=[],b=[],p=[],j=d.map((function(e){return parseInt(e.split("|")[0])})).sort((function(e,t){return e-t})),x=Array.from({length:118322},(function(e,t){return t+1})).filter((function(e){return!j.includes(e)}));console.log("Missing HIP numbers:",x),d.forEach((function(e,t){var n=e.split("|"),r=parseInt(n[0],10);B[r]=t;var o=n[1].split(/\s+/).map((function(e){return parseFloat(e)})),a=n[2].split(/\s+/).map((function(e){return parseFloat(e)})),c=g.apply(void 0,Object(m.a)(o)),d=O.apply(void 0,Object(m.a)(a)),v=parseFloat(n[3]);c<i&&(i=c),c>s&&(s=c),d<l&&(l=d),d>u&&(u=d),isNaN(v)?console.error("Invalid magnitude value:",n[3]):b.push(v);var j=$*Math.cos(d)*Math.cos(c),x=$*Math.cos(d)*Math.sin(c),w=$*Math.sin(d);if(11767===r&&console.log("Etoile polaire: X="+j+" Y="+w+" Z="+x+" "),isNaN(j)||isNaN(w)||isNaN(x)?console.error("Problem with HIP="+n[0]):(f.push(j,w,x),h.push(r),p.push({ra:c,dec:d})),f.length/3!==b.length)throw console.error("Mismatch detected at line index:",t),console.error("Line content:",e),new Error("Mismatch in data arrays")})),console.log("Nb \xe9toiles:"+b.length),console.log("RA Range:",i,"-",s),console.log("DEC Range:",l,"-",u);var w=b.filter((function(e){return!isNaN(e)})),M=Math.min.apply(Math,Object(m.a)(w)),y=Math.max.apply(Math,Object(m.a)(w));console.log("Magnitude Range:",M,"-",y);var S={};o.split("\n").filter((function(e){return""!==e.trim()})).forEach((function(e){var t=e.split("|"),n=t[0].trim();n.startsWith('"')&&(n=n.substring(1)),n.endsWith('"')&&(n=n.substring(0,n.length-1));var r=parseInt(t[1].trim(),10);isNaN(r)||(S[r]=n)})),console.log("Premi\xe8res valeurs de raDecArray:",p.slice(0,10));var E=Object(v.a)({vertices:f,magnitudes:b,hipToIndex:B,hipparcosIds:h,identStars:S,raDec:p},"magnitudes",b);F(E);var C={};a.split("\n").filter((function(e){return""!==e.trim()})).forEach((function(e){var t=e.split(",");C[t[0]]={fullName:t[1],description:t[2]}}));var z=r.split("\n").filter((function(e){return!e.startsWith("#")&&""!==e.trim()})).map((function(e){var t=e.split(",");return{abbreviation:t[0],group:t[1],abbreviationGroup:t[2],startStar:parseInt(t[3]),endStar:parseInt(t[4]),fullName:C[t[0]]?C[t[0]].fullName:"",description:C[t[0]]?C[t[0]].description:""}}));J(z),K(!0)}))}),[]),Object(u.jsx)(y.Provider,{value:(t={isLoaded:Z,shownConstellations:f,toggleShownConstellations:function(){h("Oui"===f?"Non":"Oui")},maxShownMagnitude:W,setMaxShownMagnitude:G,starsData:k,setStarsData:F,representation:i,setRepresentation:s,currentTime:w,location:z,toggleRepresentation:function(){s("Equatorial"===i?"Horizontal":"Equatorial")},constellationLines:_},Object(v.a)(t,"isLoaded",Z),Object(v.a)(t,"horizontalCoords",T),Object(v.a)(t,"setHorizontalCoords",I),t),children:n})}var E=function(){var e=Object(r.useState)({x:0,y:0}),t=Object(c.a)(e,2),n=t[0],o=t[1],a=Object(r.useState)(!1),i=Object(c.a)(a,2),s=i[0],d=i[1],f=(Object(r.useContext)(y).isLoaded,Object(h.k)()),v=f.camera,m=f.gl;return f.size,Object(r.useEffect)((function(){function e(e){if(s){var t=.005*(e.offsetX-n.x),r=.005*(e.offsetY-n.y);if(Math.abs(t)>Math.abs(r)){console.log("Rotation horizontale");var a=(new l.Quaternion).setFromAxisAngle(new l.Vector3(0,1,0),t);v.quaternion.multiply(a)}else{console.log("Rotation verticale");var i=(new l.Quaternion).setFromAxisAngle(new l.Vector3(1,0,0),r);v.quaternion.multiply(i)}o({x:e.offsetX,y:e.offsetY})}}var t=m.domElement;return t.addEventListener("mousemove",e),function(){t.removeEventListener("mousemove",e)}}),[m.domElement,v,n,s]),Object(r.useEffect)((function(){function e(e){var t=.25*-Math.sign(e.deltaY);v.zoom+=t,v.zoom=l.MathUtils.clamp(v.zoom,1,10),v.updateProjectionMatrix()}var t=m.domElement;return t.addEventListener("wheel",e),function(){t.removeEventListener("wheel",e)}}),[m.domElement,v]),Object(r.useEffect)((function(){function e(e){var t=.05;switch(e.code){case"ArrowUp":v.rotateOnAxis(new l.Vector3(1,0,0),t);break;case"ArrowDown":v.rotateOnAxis(new l.Vector3(1,0,0),-.05);break;case"ArrowLeft":v.rotateOnAxis(new l.Vector3(0,1,0),t);break;case"ArrowRight":v.rotateOnAxis(new l.Vector3(0,1,0),-.05)}}return v.layers.enable(0),v.layers.enable(1),window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[v]),Object(r.useEffect)((function(){function e(e){0===e.button&&(d(!0),o({x:e.offsetX,y:e.offsetY}))}function t(){d(!1)}var n=m.domElement;return n.addEventListener("mousedown",e),n.addEventListener("mouseup",t),function(){n.removeEventListener("mousedown",e),n.removeEventListener("mouseup",t)}}),[m.domElement]),Object(r.useEffect)((function(){v.position.set(0,0,0),v.lookAt(new l.Vector3(1,0,0)),v.updateProjectionMatrix()}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(b.a,{children:Object(u.jsxs)("div",{style:{position:"absolute",top:-200,left:-200,color:"white",display:"flex",flexDirection:"row",gap:"20px",width:"600px"},children:[Object(u.jsxs)("span",{children:["Zoom: ",v.zoom.toFixed(2)]}),Object(u.jsxs)("span",{children:["Position: ",v.position.x.toFixed(2),", ",v.position.y.toFixed(2),", ",v.position.z.toFixed(2)]}),Object(u.jsxs)("span",{children:["LookAt: ",v.getWorldDirection(new l.Vector3).x.toFixed(2),", ",v.getWorldDirection(new l.Vector3).y.toFixed(2),", ",v.getWorldDirection(new l.Vector3).z.toFixed(2)]})]})})})};var C=function(){var e=Object(h.k)(),t=e.scene,n=e.camera,o=e.gl,a=Object(r.useContext)(y),i=a.shownConstellations,s=a.representation,u=a.maxShownMagnitude,d=a.starsData,f=Object(r.useState)(!1),b=Object(c.a)(f,2),v=b[0],m=b[1],p=Object(r.useRef)(null),j=Object(r.useRef)(new l.Group),g=Object(r.useRef)(null),O=new l.Raycaster;O.layers.set(0),O.linePrecision=100;var x=new l.Vector2,M=Object(r.useRef)(null);function S(){M.current&&(t.remove(M.current),M.current=null)}function E(e){console.log("Highlight Star Function Called"),g.current&&(console.log("Removing previously highlighted star."),j.current.remove(g.current));var t=new l.RingGeometry(14,24,32),r=new l.MeshBasicMaterial({color:255,side:l.DoubleSide}),o=new l.Mesh(t,r),a=e.object.geometry.attributes.position,i=new l.Vector3;i.fromBufferAttribute(a,e.index),o.position.copy(i),console.log("Star Position:",i);(new l.Vector3).subVectors(i,n.position).normalize();o.lookAt(n.position),j.current.add(o),g.current=o;var c=d.hipparcosIds[e.index],s=d.identStars[c],u=d.altAzArray[e.index],f=u.azimuth,h=u.altitude,b=d.raDec[e.index],v=b.ra,m=b.dec;if(console.log(c+" "+s+" Ra="+Object(w.b)(v)+" Dec="+Object(w.b)(m)),console.log(c+" "+s+" Azimut="+f+" Altitude="+h),console.log("Magnitude="+d.magnitudes[e.index]),s){var O=function(e){var t=new l.SpriteMaterial({map:e,color:255}),n=new l.Sprite(t);return n.scale.set(200,100,1),n}(function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return n.font="58px Arial",n.fillStyle="blue",n.fillText(e,0,58),new l.CanvasTexture(t)}(s));O.position.copy(i),O.position.x-=70,O.position.y-=70,j.current.add(O),p.current&&j.current.remove(p.current),p.current=O}else console.log("Can't find starname of "+c);console.log("Star has been highlighted!")}return Object(r.useEffect)((function(){console.log("Debug="+v)}),[v]),Object(r.useEffect)((function(){g.current&&(console.log("Removing previously highlighted star."),j.current.remove(g.current)),p.current&&j.current.remove(p.current)}),[i]),Object(r.useEffect)((function(){if(d){for(;j.current.children.length>0;)j.current.remove(j.current.children[0]);g.current&&(j.current.remove(g.current),g.current=null);var e,n=new l.BufferGeometry;e="Horizontal"===s&&d.horizontalCoords?d.horizontalCoords:d.vertices,n.setAttribute("position",new l.Float32BufferAttribute(e,3)),n.setAttribute("magnitude",new l.Float32BufferAttribute(d.magnitudes,1)),n.setAttribute("hipparcosId",new l.Float32BufferAttribute(d.hipparcosIds,1));for(var r=new l.ShaderMaterial({uniforms:{starTexture:{value:function(){var e=document.createElement("canvas");e.width=64,e.height=64;var t=e.getContext("2d"),n=t.createRadialGradient(32,32,8,32,32,32);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height);var r=new l.Texture(e);return r.needsUpdate=!0,r}()},maxMagnitude:{value:u}},vertexShader:"\n                attribute float magnitude;\n                uniform float maxMagnitude;\n                varying float vMagnitude;\n                void main() {\n                    vMagnitude = magnitude;\n                    gl_PointSize = 1.0 + 19.0 * (1.0 - vMagnitude / maxMagnitude);\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                }\n            ",fragmentShader:"\n                uniform sampler2D starTexture;\n                uniform float maxMagnitude;\n                varying float vMagnitude;\n                void main() {\n                    if (vMagnitude > maxMagnitude) {\n                        discard;\n                    }\n                    gl_FragColor = texture2D(starTexture, gl_PointCoord);\n                }\n            ",transparent:!0,depthTest:!0,depthWrite:!1,blending:l.AdditiveBlending});j.current.children.length>0;)j.current.remove(j.current.children[0]);var o=new l.Points(n,r);return j.current.add(o),t.add(j.current),function(){t.remove(j.current)}}}),[s,d,t,u]),Object(r.useEffect)((function(){function e(e){"d"!==e.key&&"D"!==e.key||m((function(e){return!e}))}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),Object(r.useEffect)((function(){function e(e){console.log("Clic event ",e),x.x=e.offsetX/o.domElement.clientWidth*2-1,x.y=-e.offsetY/o.domElement.clientHeight*2+1,O.setFromCamera(x,n);var r=null,a=1/0,i=new l.Vector3(0,0,0),c=new l.Vector3(0,0,0),f=function(e,t,n,r){var o=(new l.Vector3).subVectors(e,n),a=t.dot(t),i=2*o.dot(t),c=i*i-4*a*(o.dot(o)-r*r);if(c<0)return null;var s=(-i-Math.sqrt(c))/(2*a),u=(-i+Math.sqrt(c))/(2*a),d=s>0?s:u;return new l.Vector3(e.x+d*t.x,e.y+d*t.y,e.z+d*t.z)}(i,O.ray.direction.normalize(),c,1e3);if(v?M.current?(console.log("Mise \xe0 jour de la direction du RayHelper"),M.current.setDirection(O.ray.direction),M.current.position.copy(O.ray.origin)):(console.log("Recr\xe9ation du rayHelper"),M.current=new l.ArrowHelper(O.ray.direction,O.ray.origin,1050,16711680),t.add(M.current)):S(),f){var h;console.log("Intersection point: ".concat(f.x,", ").concat(f.y,", ").concat(f.z)),h="Horizontal"===s&&d.horizontalCoords?d.horizontalCoords:d.vertices;for(var b=0;b<h.length/3;b++)if(d.magnitudes[b]<=u){var m=new l.Vector3(h[3*b],h[3*b+1],h[3*b+2]).distanceTo(f);m<a&&(a=m,r=b)}if(null!==r){var p=d.hipparcosIds[r];console.log("Etoile la plus proche Hipparcos ID:",p),E({object:{geometry:{attributes:{position:new l.BufferAttribute(new Float32Array(h),3),hipparcosId:new l.BufferAttribute(new Float32Array(d.hipparcosIds),1)}}},index:r})}}else console.log("No intersection")}return window.addEventListener("click",e),function(){window.removeEventListener("click",e),S()}}),[s,d,n,o,v]),null};var z=function(){var e=Object(h.k)().scene,t=Object(r.useContext)(y),n=t.representation,o=t.starsData,a=t.constellationLines,i=Object(r.useRef)(new l.Group);function c(e){var t=document.createElement("canvas");t.width=256,t.height=256;var n=t.getContext("2d");return n.fillStyle="#FFFFFF",n.textAlign="center",n.textBaseline="middle",n.font="24px Arial",n.fillText(e,t.width/2,t.height/2),new l.CanvasTexture(t)}return Object(r.useEffect)((function(){if(o&&a){i.current.children.forEach((function(e){console.log("Suppression de ",e),i.current.remove(e)})),e.remove(i.current);var t=new l.LineBasicMaterial({color:16777215}),r="Horizontal"===n&&o.horizontalCoords?o.horizontalCoords:o.vertices,s={};for(var u in a.forEach((function(e){var n=3*o.hipToIndex[e.startStar],a=3*o.hipToIndex[e.endStar],c=new l.Vector3(r[n],r[n+1],r[n+2]),u=new l.Vector3(r[a],r[a+1],r[a+2]),d=(new l.BufferGeometry).setFromPoints([c,u]),f=new l.Line(d,t);i.current.add(f),s[e.fullName]||(s[e.fullName]={sum:new l.Vector3(0,0,0),count:0});var h=s[e.fullName];h.sum.add(c),h.sum.add(u),h.count+=2})),s){var d=s[u],f=d.sum.divideScalar(d.count),h=c(u),b=new l.SpriteMaterial({map:h}),v=new l.Sprite(b);v.position.copy(f),v.scale.set(500,300,1),i.current.add(v)}return e.add(i.current),function(){for(;i.current.children.length>0;)i.current.remove(i.current.children[0]);e.remove(i.current)}}}),[o,e,a,n]),null};var A=function(){var e=Object(r.useContext)(y),t=e.shownConstellations,n=e.representation,o=e.location;return Object(r.useEffect)((function(){console.log("Changement de Representation")}),[n,o]),Object(r.useEffect)((function(){console.log("Changement de Location")}),[o]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C,{}),"Oui"===t&&Object(u.jsx)(z,{})]})};var L=function(){return Object(u.jsxs)(s.a,{style:{background:"#001122"},children:[Object(u.jsx)("orthographicCamera",{position:[0,0,0],left:-1500,right:1500,top:1500,bottom:-1500,near:.1,far:1500}),Object(u.jsx)(A,{}),Object(u.jsx)(f,{}),Object(u.jsx)(d,{}),Object(u.jsx)("axesHelper",{args:[1e3]}),Object(u.jsx)("ambientLight",{intensity:.5}),Object(u.jsx)("directionalLight",{position:[0,0,5],intensity:1}),Object(u.jsx)(E,{})]})},R=n(0),k=n(1),F=n(3),D=n(4),N=function(e){Object(F.a)(n,e);var t=Object(D.a)(n);function n(e){var r;return Object(R.a)(this,n),(r=t.call(this,e)).state={hasError:!1,error:null,errorInfo:null},r}return Object(k.a)(n,[{key:"componentDidCatch",value:function(e,t){console.error("Uncaught error:",e,t),this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.hasError?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Quelque chose s'est mal pass\xe9."}),Object(u.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),Object(u.jsx)("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.Component);n(57);var T=function(){var e=Object(r.useContext)(y),t=e.maxShownMagnitude,n=e.setMaxShownMagnitude,o=e.representation,a=e.toggleRepresentation,i=e.shownConstellations,s=e.toggleShownConstellations,l=Object(r.useState)(t),d=Object(c.a)(l,2),f=d[0],h=d[1];return Object(u.jsxs)("div",{className:"sidebar",children:[Object(u.jsx)("h2",{className:"representation-title",children:o}),Object(u.jsx)("button",{onClick:a,children:"Basculer la repr\xe9sentation"}),Object(u.jsxs)("h2",{className:"constellations-title",children:["Constellations: ",i]}),Object(u.jsx)("div",{className:"toggle-btn ".concat("Oui"===i?"on":"off"),onClick:s,children:Object(u.jsx)("div",{className:"toggle-indicator"})}),Object(u.jsxs)("div",{className:"magnitude-slider",children:[Object(u.jsxs)("label",{children:["Magnitude maximale affich\xe9e: ",f]}),Object(u.jsx)("input",{type:"range",min:"0",max:"10",step:"0.1",value:f,onChange:function(e){var t=parseFloat(e.target.value);h(t),n(t)}})]})]})};n(58);var I=function(e){var t=e.deviceType,n=Object(r.useContext)(y),o=n.currentTime,a=n.location,i=o.getTimezoneOffset()/60;return Object(u.jsxs)("div",{className:"header",children:["mobile"!==t&&Object(u.jsx)("h1",{className:"header-title",children:"SkySphereJS"}),Object(u.jsxs)("div",{className:"right-section",children:[Object(u.jsx)("span",{className:"location",children:a.latitude&&a.longitude?"Lat: ".concat(a.latitude.toFixed(2),", Long: ").concat(a.longitude.toFixed(2)):"Localisation non disponible"}),Object(u.jsxs)("span",{className:"time",children:[" ",o.toLocaleTimeString()," UTC ",i>=0?"+":"",i]})]})]})};var V=function(){var e=Object(r.useState)(a(window.innerWidth)),t=Object(c.a)(e,2),n=t[0],o=t[1];function a(e){return console.log("Width="+e),e<768?"mobile":e<=1180?"tablette":"ordinateur"}return Object(r.useEffect)((function(){var e=function(){o(a(window.innerWidth))};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(u.jsx)("div",{className:"App ".concat("mobile"===n?"mobile":""),children:Object(u.jsx)(S,{children:Object(u.jsxs)(N,{children:[Object(u.jsx)(I,{deviceType:n}),Object(u.jsx)("div",{className:"content",children:Object(u.jsx)(L,{})}),"mobile"!==n&&Object(u.jsx)(T,{})]})})})};i.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(V,{})}))}},[[59,1,2]]]);
//# sourceMappingURL=main.cd98a9a7.chunk.js.map